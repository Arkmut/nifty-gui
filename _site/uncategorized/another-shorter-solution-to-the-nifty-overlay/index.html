<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Another shorter solution to the Nifty Overlay &#8211; Nifty GUI</title>
<meta name="description" content="Nifty and Slick User Tobse pointed out that you can use the NiftyGameState to create overlays too.

I like his version because it is shorter and much of the details of how the integration with Nifty works (calling render and forwarding input events to Nifty) are hidden from you. However the class NiftyGameState has been designed as a base class for a real Nifty GUI State and was not really planned for overlay rendering.

So I think although both versions work there is still something missing (in both versions). I like the idea of hidding the details on one hand but I'm not sure if using the NiftyGameState is really the way to achieve this.

What do you think?

Click the "Read More" link to see the short version of TestState that Tobse wrote and which is less code than my initial version :)

">
<meta name="keywords" content="">

  

<!-- Twitter Cards -->
<meta name="twitter:title" content="Another shorter solution to the Nifty Overlay">
<meta name="twitter:description" content="Nifty and Slick User Tobse pointed out that you can use the NiftyGameState to create overlays too.

I like his version because it is shorter and much of the details of how the integration with Nifty works (calling render and forwarding input events to Nifty) are hidden from you. However the class NiftyGameState has been designed as a base class for a real Nifty GUI State and was not really planned for overlay rendering.

So I think although both versions work there is still something missing (in both versions). I like the idea of hidding the details on one hand but I'm not sure if using the NiftyGameState is really the way to achieve this.

What do you think?

Click the "Read More" link to see the short version of TestState that Tobse wrote and which is less code than my initial version :)

">
<meta name="twitter:site" content="@void256">


<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Another shorter solution to the Nifty Overlay">
<meta property="og:description" content="Nifty and Slick User Tobse pointed out that you can use the NiftyGameState to create overlays too.

I like his version because it is shorter and much of the details of how the integration with Nifty works (calling render and forwarding input events to Nifty) are hidden from you. However the class NiftyGameState has been designed as a base class for a real Nifty GUI State and was not really planned for overlay rendering.

So I think although both versions work there is still something missing (in both versions). I like the idea of hidding the details on one hand but I'm not sure if using the NiftyGameState is really the way to achieve this.

What do you think?

Click the "Read More" link to see the short version of TestState that Tobse wrote and which is less code than my initial version :)

">
<meta property="og:url" content="/uncategorized/another-shorter-solution-to-the-nifty-overlay/">
<meta property="og:site_name" content="Nifty GUI">





<link rel="canonical" href="/uncategorized/another-shorter-solution-to-the-nifty-overlay/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Nifty GUI Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">Nifty GUI</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				        
				    
				    <li><a href="/about/" >About</a></li>
				
				    
				        
				    
				    <li><a href="/posts/" >Blog</a></li>
				
				    
				        
				        
				    <li><a href="https://github.com/void256/nifty-gui" target="_blank">Nifty GUI @ GitHub</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    
  


	<img src="/images/" class="bio-photo" alt=" bio photo">

<h3></h3>
<p></p>
















  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="/uncategorized/another-shorter-solution-to-the-nifty-overlay/" rel="bookmark" title="Another shorter solution to the Nifty Overlay">Another shorter solution to the Nifty Overlay</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>Nifty and Slick User Tobse pointed out that you can use the NiftyGameState to create overlays too.</p>
<p>I like his version because it is shorter and much of the details of how the integration with Nifty works (calling render and forwarding input events to Nifty) are hidden from you. However the class NiftyGameState has been designed as a base class for a real Nifty GUI State and was not really planned for overlay rendering.</p>
<p>So I think although both versions work there is still something missing (in both versions). I like the idea of hidding the details on one hand but I'm not sure if using the NiftyGameState is really the way to achieve this.</p>
<p>What do you think?</p>
<p>Click the "Read More" link to see the short version of TestState that Tobse wrote and which is less code than my initial version :)</p>
<p><a id="more"></a><a id="more-96"></a></p>
<pre lang="java5">package tests;
<p>import org.newdawn.slick.*;<br />
import org.newdawn.slick.state.*;<br />
import de.lessvoid.nifty.*;<br />
import de.lessvoid.nifty.effects.EffectEventId;<br />
import de.lessvoid.nifty.elements.Element;<br />
import de.lessvoid.nifty.screen.*;<br />
import de.lessvoid.nifty.slick.NiftyGameState;</p>
<p>&#47;**<br />
 * This is the original TestState1 from slick tests extended to a nifty gui overlay. This only<br />
 * implements from ScreenController because we have a quit() onClick action definied in the<br />
 * nifty xml file that is handled in here to quit the demo.<br />
 *<br />
 * @author void<br />
 *&#47;<br />
public class TestState2 extends BasicGameState implements ScreenController {<br />
	public static final int ID = 1;<br />
	private GameContainer container;<br />
	private Font font;<br />
	private Color currentColor;<br />
	private Nifty nifty;<br />
	private NiftyGameState niftyGameState;</p>
<p>	@Override<br />
	public int getID() {<br />
		return ID;<br />
	}</p>
<p>	public void init(GameContainer container, StateBasedGame game) throws SlickException {<br />
		this.container = container;<br />
		font = new AngelCodeFont("menu.fnt", "menu.png");<br />
		currentColor = Color.white;<br />
		niftyGameState = new NiftyGameState(2);<br />
		niftyGameState.fromXml("tests&#47;overlay.xml", this);<br />
		container.getInput().addListener(niftyGameState);<br />
		niftyGameState.init(container, game);<br />
		nifty = niftyGameState.getNifty();<br />
	}</p>
<p>	public void render(GameContainer container, StateBasedGame game, Graphics g) throws SlickException {<br />
		g.setFont(font);<br />
		g.setColor(currentColor);<br />
		g.drawString("State Based Game Test", 100, 100);<br />
		g.drawString("1-3 will switch between colors", 100, 300);<br />
		g.drawString("(this is all slick rendering!)", 100, 400);<br />
		g.drawString("and this is more slick text", 360, 650);<br />
		g.drawString("below (!) a nifty-gui overlay", 360, 700);</p>
<p>		niftyGameState.render(container, game, g);<br />
	}</p>
<p>	public void update(GameContainer container, StateBasedGame game, int delta) throws SlickException {<br />
        }</p>
<p>	@Override<br />
	public void enter(GameContainer container, StateBasedGame game) throws SlickException {<br />
		niftyGameState.enter(container, game);<br />
	}</p>
<p>	@Override<br />
	public void keyReleased(int key, char c) {<br />
		if (key == Input.KEY_1) {<br />
			currentColor = Color.red;<br />
			getElement("red").startEffect(EffectEventId.onCustom);<br />
		}<br />
		if (key == Input.KEY_2) {<br />
			currentColor = Color.green;<br />
			getElement("green").startEffect(EffectEventId.onCustom);<br />
		}<br />
		if (key == Input.KEY_3) {<br />
			currentColor = Color.blue;<br />
			getElement("blue").startEffect(EffectEventId.onCustom);<br />
		}<br />
	}</p>
<p>	private Element getElement(final String id) {<br />
		return nifty.getCurrentScreen().findElementByName(id);<br />
	}</p>
<p>	public void bind(Nifty nifty, Screen screen) {}</p>
<p>	public void onEndScreen() {}</p>
<p>	public void onStartScreen() {}</p>
<p>	public void quit() {<br />
		nifty.getCurrentScreen().endScreen(new EndNotify() {</p>
<p>			public void perform() {<br />
				container.exit();<br />
			}<br />
		});<br />
	}<br />
}&lt;&#47;pre&gt;<br />
void</p>
</pre>

      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          
  


	<img src="/images/" class="bio-photo" alt=" bio photo">

<h3></h3>
<p></p>
















        </div>
        <p class="byline"><strong>Another shorter solution to the Nifty Overlay</strong> was published on <time datetime="2009-09-13T22:33:48+02:00">September 13, 2009</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/blog/update/new-blog/" title="Moving the Blog to github pages">Moving the Blog to github pages</a></li>
    
      <li><a href="/uncategorized/nifty-1-4-has-been-released/" title="Nifty 1.4 has been released">Nifty 1.4 has been released</a></li>
    
      <li><a href="/uncategorized/jogamp-bof-siggraph-2013/" title="JogAmp BOF Siggraph 2013">JogAmp BOF Siggraph 2013</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    

<span>&copy; 2014 void256. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>


  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'nifty-gui'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

	        

</body>
</html>