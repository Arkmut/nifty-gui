<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Dynamically Changing Button Text&#47;Width and the Centerlayout &#8211; Nifty GUI</title>
<meta name="description" content="Jattra tries to dynamically change button text from within Java and he needs a Button that automatically resizes according to the width of the changed text.

You can follow both threads at the Nifty Help Forum at sf.net:


Changing Button Text Thread


Resizing Buttons to Text Thread.

Read the complete blog post for details.
">
<meta name="keywords" content="buttons, changing text, button text, button control text">

  

<!-- Twitter Cards -->
<meta name="twitter:title" content="Dynamically Changing Button Text&#47;Width and the Centerlayout">
<meta name="twitter:description" content="Jattra tries to dynamically change button text from within Java and he needs a Button that automatically resizes according to the width of the changed text.

You can follow both threads at the Nifty Help Forum at sf.net:


Changing Button Text Thread


Resizing Buttons to Text Thread.

Read the complete blog post for details.
">
<meta name="twitter:site" content="@void256">


<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="/images/default-thumb.png">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Dynamically Changing Button Text&#47;Width and the Centerlayout">
<meta property="og:description" content="Jattra tries to dynamically change button text from within Java and he needs a Button that automatically resizes according to the width of the changed text.

You can follow both threads at the Nifty Help Forum at sf.net:


Changing Button Text Thread


Resizing Buttons to Text Thread.

Read the complete blog post for details.
">
<meta property="og:url" content="/bubble/design/dynamically-changing-button-textwidth-and-the-centerlayout/">
<meta property="og:site_name" content="Nifty GUI">





<link rel="canonical" href="/bubble/design/dynamically-changing-button-textwidth-and-the-centerlayout/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Nifty GUI Feed">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="/assets/js/vendor/html5shiv.min.js"></script>
	<script src="/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="/">Nifty GUI</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				        
				    
				    <li><a href="/about/" >About</a></li>
				
				    
				        
				    
				    <li><a href="/posts/" >Blog</a></li>
				
				    
				        
				        
				    <li><a href="https://github.com/void256/nifty-gui" target="_blank">Nifty GUI @ GitHub</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    
  


	<img src="/images/" class="bio-photo" alt=" bio photo">

<h3></h3>
<p></p>
















  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="/bubble/design/dynamically-changing-button-textwidth-and-the-centerlayout/" rel="bookmark" title="Dynamically Changing Button Text&#47;Width and the Centerlayout">Dynamically Changing Button Text&#47;Width and the Centerlayout</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>Jattra tries to dynamically change button text from within Java and he needs a Button that automatically resizes according to the width of the changed text.</p>
<p>You can follow both threads at the Nifty Help Forum at sf.net:</p>
<ul>
<a href="https:&#47;&#47;sourceforge.net&#47;projects&#47;nifty-gui&#47;forums&#47;forum&#47;807893&#47;topic&#47;3546927">Changing Button Text Thread&lt;&#47;a&gt;&lt;&#47;ul&gt;
<ul>
<a href="https:&#47;&#47;sourceforge.net&#47;projects&#47;nifty-gui&#47;forums&#47;forum&#47;807893&#47;topic&#47;3558041">Resizing Buttons to Text Thread&lt;&#47;a&gt;.&lt;&#47;ul&gt;
<p>Read the complete blog post for details.<br />
<a id="more"></a><a id="more-122"></a></p>
<p>Dynamically changing text was easy and has been added to the ButtonControl. You can now simply change text with the following code from java:</p>
<pre lang="java5">screen.findControl("backButton", ButtonControl.class).setText("New Text");&lt;&#47;pre&gt;
<p>Automatically resizing Buttons was a bit more involving tho.</p>
<p>Nifty actually has build in support for resizing elements according to other elements. But before we can understand what that means we first need to know a bit about the internal workings of a Nifty Button Control.</p>
<p>A Nifty Button consists of a Panel element with childLayout="center" and one child element which is a Label element that represents the actual button text. So far so good and the standard style set (nifty-style-black) simply adds a fixed width to the button.</p>
<p>So simply using the Button control:</p>
<pre lang="xml">&lt;control name="button" label="Hello World" &#47;&gt;&lt;&#47;pre&gt;
<p>will give you a button with a style specific fixed width.</p>
<p>You can override this fixed width when you use the button control like that:</p>
<pre lang="xml">&lt;control name="button" width="4532px" label="Hello Large Button World" &#47;&gt;&lt;&#47;pre&gt;
<p>This works pretty good if you don't need to change the button label text. No matter what you do to a button with a fixed width it will always stay at this width (Unless you change the width constraint from code as one of Jattras code examples shows. And although this works it is a bit cumbersome but until now the only way to achieve resizing buttons).</p>
<p>So what should we do to fix this?</p>
<p>Well, actually there is not really much to do. If you ever used a childLayout="vertical" on something without setting a width but every child in that special element had a fixed size you already have seen that Nifty actually resizes the parent element!</p>
<p>And this is basically default behaviour in Nifty: Whenever Nifty finds an element without a width (or height) constraint it looks at all the child elements and if they all have a fixed width (or height) it automatically resizes the parent element to the size of all child elements.</p>
<p>And this is just what we need here :)</p>
<p>As stated above the Button control uses childLayout="center" and up until now the center layout did not support this kind of auto-resizing feature. But this has been added to svn a moment ago.</p>
<p>So whenever Nifty encounters an element with childLayout="center" and the child element has a fixed width then it will resize the element to the child width. And this works for our button control too! And it works even when dynamically changing text from within Java :D</p>
<p>Well, there is one thing to note tho. For backward compatibility the nifty-style-black still sets a fixed width to the button. So to enable the auto resizing you have to override the witdh of the button with an empty String.</p>
<p>Example to enable the auto resizing Button:</p>
<pre lang="xml">&lt;control name="button" width="" label="autoresizing button"&#47;&gt;&lt;&#47;pre&gt;
<p>And that's it. :)</p>
<p><strong>Note:&lt;&#47;strong&gt;<br />
Another thing to note is, that the change to the center layout logic now requires you to set a width to all elements that use childLayout="center". Before this change there was no auto resizing done to elements that use center layout. To prevent the auto resizing that will be used on that elements now you need to specify a width to this elements.
</strong></p></pre></pre></pre></pre></a></ul></a></ul>

      <hr />
      <footer role="contentinfo">
        <div class="article-author-bottom">
          
  


	<img src="/images/" class="bio-photo" alt=" bio photo">

<h3></h3>
<p></p>
















        </div>
        <p class="byline"><strong>Dynamically Changing Button Text&#47;Width and the Centerlayout</strong> was published on <time datetime="2010-02-21T18:03:55+01:00">February 21, 2010</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="/blog/update/new-blog/" title="Moving the Blog to github pages">Moving the Blog to github pages</a></li>
    
      <li><a href="/uncategorized/nifty-1-4-has-been-released/" title="Nifty 1.4 has been released">Nifty 1.4 has been released</a></li>
    
      <li><a href="/uncategorized/jogamp-bof-siggraph-2013/" title="JogAmp BOF Siggraph 2013">JogAmp BOF Siggraph 2013</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  <footer>
    

<span>&copy; 2014 void256. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://mademistakes.com/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a> theme.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>


  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'nifty-gui'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

	        

</body>
</html>